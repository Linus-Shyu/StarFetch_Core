# 在 GitHub Release 发布后，用 Komac（winget-releaser）生成符合 1.10.0 的 manifest 并自动向 microsoft/winget-pkgs 提 PR
# 与 Homebrew 共用 secret：HOMEBREW_TAP_TOKEN（classic PAT，public_repo）
# 需要：已 fork microsoft/winget-pkgs 到 Linus-Shyu/winget-pkgs
name: Publish to WinGet

on:
  release:
    types: [published]

jobs:
  publish:
    runs-on: windows-latest
    steps:
      - uses: vedantmgoyal9/winget-releaser@main
        with:
          identifier: Linus-Shyu.StarFetch
          token: ${{ secrets.HOMEBREW_TAP_TOKEN }}
          installers-regex: '\.zip$'
          fork-user: Linus-Shyu
